<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Barricade</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Runtime configurable local server for Android">
    <link href="static/bootstrap-combined.min.css" rel="stylesheet">
    <link href="static/app.css" rel="stylesheet">
    <link href="static/app-theme.css" rel="stylesheet">
    <link href="static/styles/zenburn.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300italic,100,100italic,300" rel="stylesheet"
          type="text/css">
    <!--[if lt IE 9]>
    <script src="static/html5shiv.min.js"></script><![endif]-->
</head>
<body data-target=".content-nav">
<header>
    <div class="container">
        <div class="row">
            <div class="span5">
                <h1>Barricade</h1>
            </div>
            <div class="span7">
                <menu>
                    <ul>
                        <li><a href="#download" class="menu download">Download <span
                                class="version-tag">Latest</span></a></li>
                        <li><a href="https://github.com/mutualmobile/barricade" data-title="View GitHub Project"
                               class="menu github"><img src="static/icon-github.png" alt="GitHub"/></a></li>
                        <li><a href="https://mutualmobile.com/" data-title="Mutual Mobile"
                               class="menu mutual mobile"><img src="static/icon-mm.png" alt="Mutual Mobile"/></a></li>
                    </ul>
                </menu>
            </div>
        </div>
    </div>
</header>
<section id="subtitle">
    <div class="container">
        <div class="row">
            <div class="span12">
                <h2>Runtime configurable <strong>local server</strong> for Android</h2>
            </div>
        </div>
    </div>
</section>
<section id="body">
    <div class="container">
        <div class="row">
            <div class="span9">
                <section id="introduction">
                    <h3>Introduction</h3>
                    <p>Barricade allows apps to get responses from a local file to API requests by intercepting your API
                        calls using an OkHttp Network Interceptor.</p>
                    <p>It also supports multiple responses per request, unlike other local server implementations and
                        presents the user with an UI for modifying which response to return for a request. at
                        runtime.</p>
              <pre><code class="java">@GET("/users/{user}/repos")
@Barricade(endpoint = "repos", responses = {
        @Response(fileName = "get_repos_success", isDefault = true),
        @Response(fileName = "get_repos_error", statusCode = 500)})
</code></pre>
                    <p>The <code>Barricade Compiler</code> internally generates classes based on barricade-annotations
                        and intercepts the requests based on the last segment path.</p>
              <pre><code>Barricade barricade = new Barricade.Builder()
    .baseUrl("https://api.github.com/")
    .build();

GitHubService service = barricade.create(GitHubService.class); </code></pre>
                    <p>Each <code>Call</code> from the created <code>GitHubService</code> can make a synchronous or
                        asynchronous HTTP request to the remote webserver.</p>
                    <pre><code>Call&lt;List&lt;Repo>> repos = service.listRepos("octocat"); </code></pre>
                    <p>Use annotations to describe the HTTP request:</p>
                    <ul>
                        <li>URL parameter replacement and query parameter support</li>
                        <li>Object conversion to request body (e.g., JSON, protocol buffers)</li>
                        <li>Multipart request body and file upload</li>
                    </ul>
                </section>

                <section id="barricade-configuration">
                    <h3>Barricade Configuration</h3>
                    <p><code>Barricade</code> is the class through which your API interfaces are turned into callable
                        objects. By default, Barricade will give you sane defaults for your platform but it allows for
                        customization.</p>

                    <h4>Converters</h4>
                    <p>By default, Barricade can only deserialize HTTP bodies into OkHttp's <code>ResponseBody</code>
                        type and it can only accept its <code>RequestBody</code> type for <code>@Body</code>.</p>
                    <p>Converters can be added to support other types. Six sibling modules adapt popular serialization
                        libraries for your convenience.</p>
                    <ul>
                        <li><a href="https://github.com/google/gson">Gson</a>: <code>com.mutualmobile.barricade2:converter-gson</code>
                        </li>
                        <li><a href="http://wiki.fasterxml.com/JacksonHome">Jackson</a>: <code>com.mutualmobile.barricade2:converter-jackson</code>
                        </li>
                        <li><a href="https://github.com/square/moshi/">Moshi</a>: <code>com.mutualmobile.barricade2:converter-moshi</code>
                        </li>
                        <li><a href="https://developers.google.com/protocol-buffers/">Protobuf</a>: <code>com.mutualmobile.barricade2:converter-protobuf</code>
                        </li>
                        <li><a href="https://github.com/square/wire">Wire</a>: <code>com.mutualmobile.barricade2:converter-wire</code>
                        </li>
                        <li><a href="http://simple.sourceforge.net/">Simple XML</a>: <code>com.mutualmobile.barricade2:converter-simplexml</code>
                        </li>
                        <li>Scalars (primitives, boxed, and String):
                            <code>com.mutualmobile.barricade2:converter-scalars</code></li>
                    </ul>
                    <p>Here's an example of using the <code>GsonConverterFactory</code> class to generate an
                        implementation of the <code>GitHubService</code> interface which uses Gson for its
                        deserialization.</p>
              <pre><code>Barricade barricade = new Barricade.Builder()
    .baseUrl("https://api.github.com")
    .addConverterFactory(GsonConverterFactory.create())
    .build();

GitHubService service = barricade.create(GitHubService.class); </code></pre>
                    <h4>Custom Converters</h4>
                    <p>If you need to communicate with an API that uses a content-format that Barricade does not support
                        out of the box (e.g. YAML, txt, custom format) or you wish to use a different library to
                        implement an existing format, you can easily create your own converter. Create a class that
                        extends the <a
                                href="https://github.com/square/barricade/blob/master/barricade/src/main/java/barricade2/Converter.java"><code>Converter.Factory</code>
                            class</a> and pass in an instance when building your adapter.</p>
                </section>

                <section id="download">
                    <h3>Download</h3>
                    <p>
                        <a href="https://search.maven.org/remote_content?g=com.mutualmobile.barricade2&a=barricade&v=LATEST"
                           class="dl version-href">&darr; <span class="version-tag">Latest</span> JAR</a></p>
                    <p>The source code to the Barricade, its samples, and this website is <a
                            href="http://github.com/square/barricade">available on GitHub</a>.</p>
                    <h4>Maven</h4>
              <pre><code>&lt;dependency>
  &lt;groupId>com.mutualmobile.barricade2&lt;/groupId>
  &lt;artifactId>barricade&lt;/artifactId>
  &lt;version><span class="version"><em>(insert latest version)</em></span>&lt;/version>
&lt;/dependency> </code></pre>
                    <h4>Gradle</h4>
              <pre><code class="groovy">
compile 'com.mutualmobile.barricade2:barricade:<span class="version"><em>(insert latest version)</em></span>'
 </code></pre>
                    <p>Barricade requires at minimum Java 7 or Android 2.3.</p>

                    <h4>ProGuard</h4>
                    <p>If you are using ProGuard in your project add the following lines to your configuration:</p>
              <pre><code>
# Platform calls Class.forName on types which do not exist on Android to determine platform.
-dontnote barricade2.Platform
# Platform used when running on Java 8 VMs. Will not be used at runtime.
-dontwarn barricade2.Platform$Java8
# Retain generic type information for use by reflection by converters and adapters.
-keepattributes Signature
# Retain declared checked exceptions for use by a Proxy instance.
-keepattributes Exceptions
 </code></pre>
                    <p>Barricade uses <a href="https://github.com/square/okio">Okio</a> under the hood, so you may want
                        to look at its <a href="https://github.com/square/okio#proguard">ProGuard rules</a> as well.</p>
                </section>

                <section id="contributing">
                    <h3>Contributing</h3>
                    <p>If you would like to contribute code you can do so through GitHub by forking the repository and
                        sending a pull request.</p>
                    <p>When submitting code, please make every effort to follow existing conventions and style in order
                        to keep the code as readable as possible.</p>
                </section>

                <section id="license">
                    <h3>License</h3>
              <pre>Copyright 2016 Mutual Mobile

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</pre>
                </section>
            </div>
            <div class="span3">
                <div class="content-nav" data-spy="affix" data-offset-top="80">
                    <ul class="nav nav-tabs nav-stacked primary">
                        <li><a href="#introduction">Introduction</a></li>
                        <li><a href="#barricade-configuration">Barricade Configuration</a></li>
                        <li><a href="#download">Download</a></li>
                        <li><a href="#contributing">Contributing</a></li>
                        <li><a href="#license">License</a></li>
                    </ul>
                    <ul class="nav nav-pills nav-stacked secondary">
                        <li><a href="https://javadoc.io/doc/com.mutualmobile/barricade">Javadoc</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="span12 logo">
                <a href="https://mutualmobile.com"><img src="static/logo-mm-gray.png" alt="Square, Inc."/></a>
            </div>
        </div>
    </div>
</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="static/bootstrap.min.js"></script>
<script src="static/jquery.smooth-scroll.min.js"></script>
<script src="static/jquery-maven-artifact.min.js"></script>
<script src="static/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
    $(function () {

        // Spy on scroll position for real-time updating of current section.
        $('body').scrollspy();

        // Use smooth-scroll for internal links.
        $('a').smoothScroll();

        // Enable tooltips on the header nav image items.
        $('.menu').tooltip({
            placement: 'bottom',
            trigger: 'hover',
            container: 'body',
            delay: {
                show: 500,
                hide: 0
            }
        });

        // Look up the latest version of the library.
        $.fn.artifactVersion('com.mutualmobile', 'barricade', function (version, url) {
            var versionTags = $('.version');
            versionTags.last().addClass("hljs-string");
            versionTags.text(version);

            $('.version-tag').text('v' + version);
            $('.version-href').attr('href', url);
        });
    });
</script>
</body>
</html>
